<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bogey Hound: Sunset Shot</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');
    body, html { margin:0; padding:0; overflow:hidden; background:#000; font-family:'Space Grotesk',sans-serif; }
    canvas { display:block; touch-action:none; }
    .brand-logo { position:absolute; top:20px; left:50%; transform:translateX(-50%); background:#f4e5c2; color:#2c5530; padding:8px 16px; border-radius:20px; font-weight:700; font-size:16px; }
    #ui { position:absolute; top:60px; left:20px; color:#f4e5c2; font-weight:500; }
    .button { background:#f4e5c2; color:#2c5530; border:none; padding:12px 18px; margin:6px; cursor:pointer; border-radius:25px; font-size:14px; font-weight:600; transition:all .3s; }
    .button:hover { background:#e8d5a8; transform:translateY(-2px); }
    #powerBar { position:absolute; bottom:80px; left:50%; transform:translateX(-50%); width:250px; height:25px; background:rgba(255,255,255,.2); border:2px solid #f4e5c2; border-radius:15px; display:none; overflow:hidden; }
    #powerFill { width:0; height:100%; background:linear-gradient(90deg,#4CAF50,#FFC107,#f44336); transition:width .1s; border-radius:12px; }
    #commentary { position:absolute; bottom:140px; left:50%; transform:translateX(-50%); background:rgba(44,85,48,.9); color:#f4e5c2; padding:12px 16px; border-radius:15px; max-width:300px; font-weight:500; white-space:pre-wrap; opacity:0; transition:opacity .3s; text-align:center; }
    @media(max-width:768px){ #ui,#commentary{left:10px;right:10px;transform:none;} #powerBar{width:200px;bottom:60px;} }
  </style>
</head>
<body>
  <div class="brand-logo">üêï BOGEY HOUND</div>
  <canvas id="game"></canvas>
  <div id="ui"></div>
  <div id="powerBar"><div id="powerFill"></div></div>
  <div id="commentary"></div>
<script>
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const ui = document.getElementById('ui');
  const powerBar = document.getElementById('powerBar');
  const powerFill = document.getElementById('powerFill');
  const comm = document.getElementById('commentary');

  // Clubs and encouragements
  const clubs = [
    { name: 'Big Dog', dist: 400 },
    { name: 'Fairway Friend', dist: 300 },
    { name: 'Approach Ace', dist: 200 },
    { name: 'Escape Artist', dist: 150 },
    { name: 'Bump & Run', dist: 100 },
    { name: 'Hole Hunter', dist: 80 }
  ];
  const encourage = [
    'Feel the green, trust the read.',
    'All swings welcome here.',
    'Just keep it moving.',
    'Nice and easy does it.'
  ];

  // Game state
  let hole, start, tree, water;
  let ball = { x: 0, y: 0, vx: 0, vy: 0 };
  let selected = null;
  let isAiming = false, isPowering = false, power = 0, aimAngle = 0;
  let inMotion = false, shots = 0;
  let clouds = [], birds = [];
  let powerStart = 0;

  // Resize canvas and set landmarks
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    hole = { x: canvas.width / 2, y: canvas.height - 80 };
    start = { x: canvas.width / 2, y: 80 };
    tree = { x: canvas.width * 0.2, y: canvas.height * 0.6 };
    water = { x: canvas.width * 0.7, y: canvas.height * 0.7, w: canvas.width * 0.25, h: 80 };
    ball.x = start.x; ball.y = start.y;
  }

  // Initialize clouds and birds
  function initClouds() {
    clouds = [];
    for (let i = 0; i < 6; i++) {
      clouds.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height * 0.4 + 50, s: 0.3 + Math.random() * 0.4, r: 30 + Math.random() * 20 });
    }
  }
  function initBirds() {
    birds = [];
    for (let i = 0; i < 3; i++) {
      birds.push({ x: Math.random() * canvas.width, y: 100 + Math.random() * 200, s: 0.5 + Math.random() * 0.5, phase: Math.random() * 2 * Math.PI });
    }
  }

  // Typewriter effect
  function typeText(text, cb) {
    comm.textContent = '';
    comm.style.opacity = '1';
    let i = 0;
    function step() {
      if (i < text.length) {
        comm.textContent += text[i++];
        setTimeout(step, 40);
      } else if (cb) cb();
    }
    step();
  }
  function showComment(msg) {
    typeText(msg, () => setTimeout(() => comm.style.opacity = '0', 2000));
  }

  // Show club buttons
  function showClubs() {
    ui.innerHTML = '<div style="margin-bottom:6px; color:#e8d5a8;">Select club</div>';
    clubs.forEach(c => {
      const btn = document.createElement('button');
      btn.className = 'button';
      btn.textContent = c.name;
      btn.onclick = () => pickClub(c);
      ui.appendChild(btn);
    });
  }
  function pickClub(c) {
    selected = c;
    isAiming = true;
    showComment(c.name + ' ready. Pull back to swing.');
    ui.innerHTML = '';
  }

  // Input handlers
  function onDown(e) {
    if (!isAiming || inMotion) return;
    isPowering = true;
    power = 0;
    powerBar.style.display = 'block';
    powerStart = Date.now();
  }
  function onMove(e) {
    if (!isAiming) return;
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    aimAngle = Math.atan2(my - start.y, mx - start.x);
    if (isPowering) {
      const d = Math.hypot(mx - start.x, my - start.y);
      power = Math.min(selected.dist, d);
      powerFill.style.width = (power / selected.dist * 100) + '%';
    }
  }
  function onUp(e) {
    if (!isPowering) return;
    isPowering = false;
    powerBar.style.display = 'none';
    if (power > 20) {
      const swingSpeed = (Date.now() - powerStart) / 1000 * 5;
      const swing = Math.sin(swingSpeed) * 0.3;
      const angle = aimAngle + swing;
      ball.vx = Math.cos(angle) * power * 0.02;
      ball.vy = Math.sin(angle) * power * 0.02;
      inMotion = true;
      shots++;
      showComment('Shot ' + shots + ', ' + encourage[Math.floor(Math.random() * encourage.length)]);
      isAiming = false;
      powerFill.style.width = '0%';
    }
  }

  // Game loop
  function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
  }
  function update() {
    if (inMotion) {
      ball.x += ball.vx;
      ball.y += ball.vy;
      ball.vx *= 0.98;
      ball.vy *= 0.98;
      if (Math.hypot(ball.vx, ball.vy) < 0.5) {
        inMotion = false;
        placeBall();
      }
    }
    clouds.forEach(o => { o.x += o.s; if (o.x > canvas.width + o.r) o.x = -o.r; });
    birds.forEach(b => { b.x += b.s; b.phase += 0.2; b.y += Math.sin(b.phase); if (b.x > canvas.width + 50) b.x = -50; });
  }
  function placeBall() {
    const d = Math.hypot(ball.x - hole.x, ball.y - hole.y);
    if (d < 20) return showComment('You made it!');
    showClubs();
  }

  // Draw scene
  function draw() {
    const w = canvas.width, h = canvas.height;
    // Sky
    const sky = ctx.createLinearGradient(0, 0, 0, h);
    sky.addColorStop(0, '#FF6B35');
    sky.addColorStop(1, '#FF8C42');
    ctx.fillStyle = sky;
    ctx.fillRect(0, 0, w, h);
    // Sun
    ctx.fillStyle = '#FFD700';
    ctx.beginPath();
    ctx.arc(w/2, 120, 60, 0, 2 * Math.PI);
    ctx.fill();
    // Clouds
    clouds.forEach(o => {
      ctx.fillStyle = 'rgba(255,255,255,0.7)';
      ctx.beginPath();
      ctx.ellipse(o.x, o.y, o.r, o.r * 0.6, 0, 0, 2 * Math.PI);
      ctx.fill();
    });
    // Fairway
    ctx.fillStyle = '#6B8E23';
    ctx.fillRect(w * 0.35, h * 0.5, w * 0.3, h * 0.5);
    // Bunker
    const by = h * 0.5 + 0.6 * (h * 0.5);
    const bx = w * 0.35 + 0.3 * (w * 0.3);
    ctx.fillStyle = '#DEB887';
    ctx.beginPath();
    ctx.ellipse(bx, by, 50, 30, 0, 0, 2 * Math.PI);
    ctx.fill();
    // Trees Left
    for (let i = 0; i < 5; i++) {
      const tx = w * 0.35 - 30;
      const ty = h * 0.5 + i * 0.1 * (h * 0.5);
      ctx.fillStyle = '#8B4513';
      ctx.fillRect(tx, ty, 10, 40);
      ctx.fillStyle = '#228B22';
      ctx.beginPath();
      ctx.arc(tx + 5, ty, 25, 0, 2 * Math.PI);
      ctx.fill();
    }
    // Beach Right
    ctx.fillStyle = '#FFEBCD';
    ctx.fillRect(w * 0.65, h * 0.5, w * 0.35, h * 0.5);
    // Water
    ctx.fillStyle = '#4A90E2';
    ctx.fillRect(w * 0.65, h * 0.6, w * 0.35, 80);
    // Green and Hole
    ctx.fillStyle = '#90EE90';
    ctx.beginPath();
    ctx.arc(hole.x, hole.y, 80, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#000';
    ctx.beginPath();
    ctx.arc(hole.x, hole.y, 8, 0, 2 * Math.PI);
    ctx.fill();
    // Ball
    ctx.fillStyle = '#FFF';
    ctx.beginPath();
    ctx.arc(ball.x, ball.y, 8, 0, 2 * Math.PI);
    ctx.fill();
    // Aiming line
    if (isAiming && !inMotion) {
      ctx.strokeStyle = 'rgba(255,255,225,0.8)';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(ball.x, ball.y);
      const len = 100;
      const ex = ball.x + Math.cos(aimAngle) * len;
      const ey = ball.y + Math.sin(aimAngle) * len;
      ctx.lineTo(ex, ey);
      ctx.stroke();
    }
  }

  // Event listeners
  canvas.addEventListener('pointerdown', onDown);
  canvas.addEventListener('pointermove', onMove);
  canvas.addEventListener('pointerup', onUp);
  canvas.addEventListener('touchstart', e => { e.preventDefault(); onDown(e.touches[0]); });
  canvas.addEventListener('touchmove', e => { e.preventDefault(); onMove(e.touches[0]); });
  canvas.addEventListener('touchend', e => { e.preventDefault(); onUp(e.changedTouches[0]); });
  canvas.addEventListener('contextmenu', e => e.preventDefault());

  // Initialize
  resize();
  initClouds();
  initBirds();
  showClubs();
  showComment('The last hole of the day. The sun‚Äôs down, vibes are up.');
  loop();
})();
</script>
</body>
</html>
